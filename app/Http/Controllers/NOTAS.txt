
-------------------- MEJORAS ---------------------


----------- RELACION ENTRE PRODUCTOS Y RETIROS ----------
Retiros; (1) seleccionar un producto, (2) luego de estar en una vista similar a la de "show" 
poder elegir la cantidad a retirar del producto pero manteniendo como maxima cantidad a retirar, el stock disponible.

------------------ FALLOS PENDIENTES --------------------
*la cantidad de retiro se pone en 0 

-------------- OTROS REQUERIMIENTOS --------------------
1 mostrar en casilla de informaciones stocks mas bajos
2 mostrar cantidad de productos por categoria
3 mostrar cantidad de productos por marca

-------------- PENDIENTES DE DIA ANTERIOR --------------------
revisar que los controladores funcionen bien y reciban correctamente la informacion de vistas


  //$productos = Producto::orderBy('created_at', 'desc')->paginate(20);

        //if ($productos) {
            //return view('productos.index', compact('productos'))
                //->with('i', (request()->input('page', 1) - 1) * $productos->perPage());
        //} else {
            //return redirect()->back()->with('error', 'Error al obtener los productos');
        //}



        //$productos = Producto::query()
        //    ->with(['productos'])
        //    ->when(request('search'), function ($query){
        //        return $query->where('nombre_pro', 'like', '%'. request('search') . '%');
        //    })
        //    ->paginate(5);
        //return view('productos.index', compact('productos'));



















-------------- FUNCIONALIDADES A INCORPORAR --------------------
----------*carga masiva desde excel.------


----------------- CONTROLADOR DE PRODUCTOS (UPDATE) -----------------

    public function update(Request $request, $id_pro)
    {   
            {$request->validate([
                'nombre_pro' => 'required|unique:productos',
                'descripcion_pro' => 'required',
                'cantidad_pro' => 'required|numeric',
                'categorias_id_cat' => 'required',
                'marcas_id_mar' =>'required',
                'modelos_id_mod' =>'required'
            ]);

            $nombre_pro = $request->input('nombre_pro'); //Obtención de los valores requeridos
            $descripcion_pro = $request->input('descripcion_pro');
            $cantidad_pro = $request->input('cantidad_pro');
            $categorias_id_cat = $request->input('categorias_id_cat');
            $marcas_id_mar = $request->input('marcas_id_mar');
            $modelos_id_mod = $request->input('modelos_id_mod');

            $productos = Producto::find($id_pro);
                // Busca la categoría por su ID
            $fechaActual = date('d-m-y');
            if ($productos) {

                $productos->nombre_pro = $nombre_pro;
                $productos->descripcion_pro = $descripcion_pro;
                $productos->cantidad_pro = $cantidad_pro;
                $productos->categorias_id_cat = $categorias_id_cat;
                $productos->marcas_id_mar = $marcas_id_mar;
                $productos->modelos_id_mod = $modelos_id_mod;
                $productos->save();

                $productos = Producto::with('categoria', 'marca', 'modelo')->find($id_pro);

                if($productos && $productos->categoria && $productos->marca && $productos->modelo){
                    $nombre_pal_producto = $productos->nombre_pro;
                    $descripcion_pal_movimiento = $productos->descripcion_pro;

                    $categoriaNombre = $productos->categoria->nombre_cat ?? null;
                    $marcaNombre = $productos->marca->nombre_mar ?? null;
                    $modeloNombre = $productos->modelo->nombre_mod ?? null;

                    $movimiento = new Movimiento();
                    $movimiento->tipo_mov = 'MODIFICACION';
                    $movimiento->cantidad_mov = $request->input('cantidad_pro');
                    $movimiento->fecha_mov = date('d-m-y');
                    $movimiento->nombre_mov = $productos->nombre_pro;
                    $movimiento->users_id = auth()->user()->id;
                    $movimiento->descripcion_mov = $productos->descripcion_pro;
                    
                    $movimiento->categorias_mov = $categoriaNombre;
                    $movimiento->marcas_mov = $marcaNombre;
                    $movimiento->modelos_mov = $modeloNombre;

                    $movimiento->save();
                    return view('productos.index', compact('productos'))->with('success', 'Producto actualizado correctamente.');
                }else{
                    return view('productos.index', compact('productos'))->with('error', 'No se pudo encontrar relaciones');
                }
            } else {
                return redirect()->back()->with('error', 'No se pudo encontrar el Producto con el ID proporcionado.');
            }
        }
    }

---------------------------- ERRORES POR DIRIGIR MAL UNA RUTA --------------------------------
return view('productos.index'); *ÉSTO ESTÁ MAL / ASÍ SI ->  return redirect()->route('productos.index')
->with('success', 'Producto actualizado correctamente.');
-ESTOS SON LOS ERRORES RELACIONADOS:
"Undefined variable $i"
Attempt to read property "id_pro" on bool
---------------------------- ERROR EL NOMBRE QUEDA EN LARAVEL (PESTAÑA) ---------------------
<title>{{ config('Inventario Invertec', 'INVENTARIO INVERTEC') }}</title>
                        ^ Acá se cambia, antes decia "app.name"
---------------------------- ERRORES EL LOGO NO CARGA -----------------------
<img src='/ images/logo.png' alt='logo.png' style="height:40px; text-align:center" >
           ^ *El error era que aquí le puse un punto 
---------------------------------- PETICIONES A CHATGPT -----------------------------------
estoy trabajando con un proyecto de laravel y php sobre un inverntario de productos para datacenter, quisiera 
saber como puedo incorporar a  mi funcion update una condicion que funcione de la siguiente manera;  

------------------------------------------------------------------------------

<main class="d-flex flex-nowrap">
  <h1 class="visually-hidden">Sidebars examples</h1>

  <div class="d-flex flex-column flex-shrink-0 p-3 text-bg-dark" style="width: 280px;">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
      <svg class="bi pe-none me-2" width="40" height="32"><use xlink:href="#bootstrap"></use></svg>
      <span class="fs-4">Sidebar</span>
    </a>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto">
      <li class="nav-item">
        <a href="#" class="nav-link active" aria-current="page">
          <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#home"></use></svg>
          Home
        </a>
      </li>
      <li>
        <a href="#" class="nav-link text-white">
          <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#speedometer2"></use></svg>
          Dashboard
        </a>
      </li>
      <li>
        <a href="#" class="nav-link text-white">
          <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#table"></use></svg>
          Orders
        </a>
      </li>
      <li>
        <a href="#" class="nav-link text-white">
          <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#grid"></use></svg>
          Products
        </a>
      </li>
      <li>
        <a href="#" class="nav-link text-white">
          <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#people-circle"></use></svg>
          Customers
        </a>
      </li>
    </ul>
    <hr>
    <div class="dropdown">
      <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
        <img src="https://github.com/mdo.png" alt="" width="32" height="32" class="rounded-circle me-2">
        <strong>mdo</strong>
      </a>
      <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
        <li><a class="dropdown-item" href="#">New project...</a></li>
        <li><a class="dropdown-item" href="#">Settings</a></li>
        <li><a class="dropdown-item" href="#">Profile</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="#">Sign out</a></li>
      </ul>
    </div>
  </div>
tazki consume api de buk